(()=>{"use strict";function t(t){return t?`zolo-${t.toString().toLowerCase().replace(/(<.+?>)/g,"").replace(/&(amp;|mdash;)/g,"").replace(/[\u2013\u2014]/g,"").replace(/&nbsp;/gi,"-").replace(/\s+/g,"-").replace(/[&\/\\#,^!+()$~%.'":*?<>{}@‘’”“]/g,"").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"")}`:t}window.ReactJSXRuntime;const e=t=>{const e=t?.getAttribute("data-content-selector");if(!e)return document;try{return document.querySelector(e)||document}catch{return document}},o=t=>{try{const e=JSON.parse(t?.getAttribute("data-tags")||"{}");return Object.entries(e).filter(([,t])=>t).map(([t])=>t).join(",")||"h1,h2,h3,h4,h5,h6"}catch{return"h1,h2,h3,h4,h5,h6"}},r=(t,e="ul")=>t.map(t=>{const o=t.children?.length>0,n=`toc-${t.anchor}`;return`<li class="toc-item ${o?"has-children":""}" data-level="${t.level}">\n        <div class="toc-header">\n          <a href="#${t.anchor}" class="toc-link">${(t=>{const e=document.createElement("div");return e.textContent=String(t),e.innerHTML})(t.content)}</a>\n          ${o?`<button class="toc-toggle" aria-expanded="false" aria-controls="${n}" aria-label="Toggle section">\n                  <svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">\n                    <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>\n                  </svg>\n                 </button>`:""}\n        </div>\n        ${o?`<${e} id="${n}" class="child-list" hidden>${r(t.children,e)}</${e}>`:""}\n      </li>`}).join(""),n=(t,e,o=300)=>{if(e&&!t.hidden)return;if(!e&&t.hidden)return;const r=["height","padding-top","padding-bottom","margin-top","margin-bottom"],n=()=>{r.forEach(e=>t.style.removeProperty(e)),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property")};if(e){t.hidden=!1;const e=t.offsetHeight;t.style.height="0",t.style.overflow="hidden",r.slice(1).forEach(e=>t.style[e]="0"),t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=`${o}ms`,t.style.height=`${e}px`,r.slice(1).forEach(e=>t.style.removeProperty(e)),setTimeout(n,o)}else t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=`${o}ms`,t.style.boxSizing="border-box",t.style.height=`${t.offsetHeight}px`,t.offsetHeight,t.style.overflow="hidden",t.style.height="0",r.slice(1).forEach(e=>t.style[e]="0"),setTimeout(()=>{t.hidden=!0,n()},o)},c=(t,e)=>{if(!t||!e)return;const o=new Set;let r=e;for(;r&&r!==t;){if(r.classList.contains("toc-item")){const t=r.querySelector(":scope > .child-list");t&&o.add(t)}r=r.parentElement}t.querySelectorAll(".child-list").forEach(t=>{const e=o.has(t),r=!t.hidden,c=t.closest(".toc-item")?.querySelector(":scope > .toc-header .toc-toggle");e!==r&&(n(t,e),c&&(c.setAttribute("aria-expanded",e),c.style.transform=e?"rotate(180deg)":"rotate(0deg)"))})},l=n=>{if(!n)return;const c=n.querySelector(".zolo-toc-content");if(!c)return;const l=n.querySelector(".zolo-toc-list")?.tagName?.toLowerCase()||"ul",s=(r=>{if(!r)return[];const n=e(r),c=o(r),l=n.querySelectorAll(c);return Array.from(l).map(e=>{const o=Math.max(1,Math.min(6,parseInt(e.tagName[1],10)||1)),r=e.textContent?.trim();return r?{level:o,content:r,el:e,anchor:t(r)}:null}).filter(Boolean)})(n);let i;try{i=JSON.parse(n.getAttribute("data-tags")||"{}")}catch{i={}}const a=(t=>{const e=[],o=[];return t.forEach(t=>{const r={...t,children:[]};for(;o.length&&o[o.length-1].level>=r.level;)o.pop();(o.length?o[o.length-1].children:e).push(r),o.push(r)}),e})(s.filter(t=>i[`h${t.level}`]));a.length?(c.innerHTML=`<${l} class="zolo-toc-list">${r(a,l)}</${l}>`,((e,r)=>{if(!e?.length||!r)return;const n=o(r),c=Array.from(document.querySelectorAll(n));c.length&&(c.forEach(t=>t.querySelector(".zolo-toc-anchor")?.remove()),e.forEach(({anchor:e})=>{const o=c.find(o=>t(o.textContent)===e);if(o){const t=document.createElement("span");t.id=e,t.className="zolo-toc-anchor",o.prepend(t)}}))})(s,n)):c.innerHTML="<p>Add heading to create table of content</p>"};window.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector(".wp-block-zolo-table-of-content");if(!r)return;l(r),(t=>{t&&t.addEventListener("click",e=>{const o=e.target.closest(".toc-toggle");if(o){e.preventDefault();const t=document.getElementById(o.getAttribute("aria-controls")),r="true"===o.getAttribute("aria-expanded");return n(t,!r),o.setAttribute("aria-expanded",!r),void(o.style.transform=r?"rotate(0deg)":"rotate(180deg)")}const r=e.target.closest(".toc-link");if(r){const o=r.closest(".toc-item");t.querySelectorAll(".toc-item").forEach(t=>t.classList.remove("active")),o.classList.add("active"),c(t,o);const n=r.getAttribute("href");if(n?.startsWith("#")){e.preventDefault();const t=document.querySelector(n);t&&(window.scrollTo({top:t.getBoundingClientRect().top+window.scrollY-150,behavior:"smooth"}),t.classList.add("active"),setTimeout(()=>t.classList.remove("active"),800))}}})})(r),(r=>{if(!r)return;const n=e(r),l=o(r),s=Array.from(n.querySelectorAll(l));if(!s.length)return;const i=new IntersectionObserver(e=>{e.forEach(e=>{if(!e.isIntersecting)return;const o=t(e.target.textContent.trim()),n=r.querySelector(`.toc-link[href="#${o}"]`);if(!n)return;const l=n.closest(".toc-item");r.querySelectorAll(".toc-item").forEach(t=>t.classList.remove("active")),l.classList.add("active"),c(r,l)})},{root:null,rootMargin:"-20% 0px -70% 0px",threshold:0});s.forEach(t=>i.observe(t))})(r),(t=>{const e=t?.querySelector(".zolo-toc-toggle-btn");if(!e)return;const o="false"===t.getAttribute("data-collapsed");t.classList.toggle("collapsed",o),e.addEventListener("click",()=>{const e=t.classList.toggle("collapsed");t.setAttribute("data-collapsed",e)})})(r),(t=>{t&&(t.querySelectorAll(".zolo-toc-close").forEach(e=>e.addEventListener("click",()=>{t.classList.add("content-hidden"),t.classList.remove("content-visible")})),t.querySelectorAll(".zolo-toc-open").forEach(e=>e.addEventListener("click",()=>{t.classList.remove("content-hidden"),t.classList.add("content-visible")})))})(r);const s=e(r)!==document?e(r):document.querySelector(".entry-content, .post-content, main, article");s&&new MutationObserver(((t,e=100)=>{let o=null;return(...r)=>{clearTimeout(o),o=setTimeout(()=>t(...r),e)}})(()=>l(r),120)).observe(s,{childList:!0,subtree:!0,characterData:!0})})})();